---
title: "Google Maps: Want To Go + Favorites"
output:
  html_document:
    includes:
      in_header: header/header.html
      after_body: include_footer.html
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)
```

This page embeds my Google Maps lists and shows the latest exported CSV data from the repo.

## Want To Go

```{=html}
<iframe
  src="https://www.google.com/maps/d/embed?mid=YOUR_WANT_TO_GO_MID"
  width="100%"
  height="600"
  style="border:0;"
  loading="lazy">
</iframe>
```

Source link: <https://maps.app.goo.gl/h3zRvZ1pWLJYHoSN8>

## Favorites

```{=html}
<iframe
  src="https://www.google.com/maps/d/embed?mid=YOUR_FAVORITES_MID"
  width="100%"
  height="600"
  style="border:0;"
  loading="lazy">
</iframe>
```

Source link: <https://maps.app.goo.gl/x5XvtUVNLGtgWFG7A>

## Latest CSV Export

```{r exported-data}
want_to_go_path <- here::here("data", "want_to_go.csv")
favorites_path <- here::here("data", "favorites.csv")

if (file.exists(want_to_go_path)) {
  cat("### Want To Go (CSV)\n\n")
  readr::read_csv(want_to_go_path, show_col_types = FALSE) |>
    DT::datatable(
      filter = "top",
      options = list(pageLength = 10, scrollX = TRUE),
      rownames = FALSE
    )
} else {
  cat("Want To Go CSV not found yet at `data/want_to_go.csv`.\n\n")
}

if (file.exists(favorites_path)) {
  cat("### Favorites (CSV)\n\n")
  readr::read_csv(favorites_path, show_col_types = FALSE) |>
    DT::datatable(
      filter = "top",
      options = list(pageLength = 10, scrollX = TRUE),
      rownames = FALSE
    )
} else {
  cat("Favorites CSV not found yet at `data/favorites.csv`.\n\n")
}
```

## Setup Notes

- Add repo secret `MYMAPS_WANT_TO_GO_MID` with your Want To Go My Maps `mid`.
- Add repo secret `MYMAPS_FAVORITES_MID` with your Favorites My Maps `mid`.
- The weekly workflow updates these files:
  - `data/want_to_go.kml`
  - `data/want_to_go.csv`
  - `data/favorites.kml`
  - `data/favorites.csv`
